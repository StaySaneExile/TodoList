(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},28:function(t,e,n){t.exports=n(59)},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),s=n(8),r=n.n(s),i=(n(33),n(2)),c=n(9),l=n(4),d=n(3),u=(n(15),n(1)),p=(n(16),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={editMode:!1,title:t.props.title},t.onClickDeleteTodoList=function(){t.props.onDeleteTodoList(t.props.todoListId)},t.currentTargetTitle=function(e){t.setState({title:e.currentTarget.value})},t.editModeIsOFF=function(){t.setState({editMode:!1}),t.props.changeTitleTodo(t.props.todoListId,t.state.title)},t.editModeIsON=function(){t.setState({editMode:!0})},t.render=function(){return o.a.createElement("div",null,t.state.editMode?o.a.createElement("input",{onBlur:t.editModeIsOFF,onChange:t.currentTargetTitle,value:t.state.title}):o.a.createElement("div",{className:"header_tasks"},o.a.createElement("h3",{onClick:t.editModeIsON,className:"header_title"},t.props.title),o.a.createElement("button",{onClick:t.onClickDeleteTodoList,className:"deleteTodoList"})))},t}return n}(o.a.Component)),f=(n(34),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={isEditMode:!1,title:t.props.task.title},t.activatedEditMode=function(){t.setState({isEditMode:!0})},t.deActivatedEditMode=function(){t.setState({isEditMode:!1}),t.props.changeTitle(t.props.task,t.state.title)},t.onIsDoneChanged=function(e){t.props.changeStatus(t.props.task,e.currentTarget.checked)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.onDeleteTask=function(){t.props.onDeleteTask(t.props.task.id)},t.render=function(){var e=2===t.props.task.status?"todoList-task_done":"todoList-task";return o.a.createElement("div",{className:"task"},o.a.createElement("div",{className:e},o.a.createElement("input",{type:"checkbox",className:"checkbox",checked:2===t.props.task.status,onChange:t.onIsDoneChanged}),t.state.isEditMode?o.a.createElement("input",{value:t.state.title,onChange:t.onTitleChanged,autoFocus:!0,onBlur:t.deActivatedEditMode}):o.a.createElement("div",{className:"title_task"},o.a.createElement("span",{onClick:t.activatedEditMode},t.props.task.title)),o.a.createElement("span",{className:"delete",onClick:t.onDeleteTask})))},t}return n}(o.a.Component)),T=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).render=function(){var e=t.props.task.map(function(e){return o.a.createElement(f,{task:e,onDeleteTask:t.props.onDeleteTask,changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus})});return o.a.createElement("div",{className:"todoList-tasks"},e)},t}return n}(o.a.Component),k=(n(35),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(){t.setState({isHidden:!1})},t.onHideFiltersClick=function(){t.setState({isHidden:!0})},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"default_button",n="Completed"===t.props.filterValue?"filter-active":"default_button",a="Active"===t.props.filterValue?"filter-active":"default_button";return o.a.createElement("div",{className:"todoList-footer"},!t.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{className:e,onClick:t.onAllFilterClick},"All"),o.a.createElement("button",{className:n,onClick:t.onCompletedFilterClick},"Completed"),o.a.createElement("button",{className:a,onClick:t.onActiveFilterClick},"Active")))},t}return n}(o.a.Component)),m=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={error:!1,inputValue:""},t.onAddItemClick=function(){var e=t.state.inputValue.trim();""===e?t.setState({error:!0}):(t.props.addItem(e),t.setState({error:!1,inputValue:""}))},t.titleChange=function(e){t.setState({error:!1,inputValue:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){var e=t.state.error?t.props.inputStyleErr:t.props.inputStyleDef;return o.a.createElement("div",{className:t.props.style},o.a.createElement("input",{className:e,onChange:t.titleChange,onKeyPress:t.onKeyPress,value:t.state.inputValue,type:"text",placeholder:t.props.holder}),o.a.createElement("button",{className:t.props.buttonStyle,onClick:t.onAddItemClick},t.props.buttonTitle))},t}return n}(o.a.Component),h=n(6),b=n(13),O=n(26),v=n.n(O).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"55c7683d-910d-4237-970d-b8f19c995706"}}),E=function(t,e){return v.put("todo-lists/".concat(t),{title:e})},g=function(){return v.get("todo-lists")},j=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},A=function(t){return v.post("todo-lists",{title:t})},C=function(t){return v.delete("todo-lists/".concat(t))},S=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},y=function(t,e){return v.delete("todo-lists/".concat(t,"/tasks/").concat(e))},L=function(t,e,n){return v.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},I={todolists:[]},D=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={tasks:[],filterValue:"All",editMode:!1,title:""},t.restoreState=function(){t.props.getTasks(t.props.id)},t.addTask=function(e){t.props.createTask(t.props.id,e)},t.onDeleteTask=function(e){t.props.deleteTask(t.props.id,e)},t.changeTitleTodo=function(e,n){t.props.changeTitleTodo(e,n)},t.changeTask=function(e){t.props.changeTask(t.props.id,e.id,e)},t.changeStatus=function(e,n){t.changeTask(Object(u.a)(Object(u.a)({},e),{},{status:!0===n?2:0}))},t.changeTitle=function(e,n){t.changeTask(Object(u.a)(Object(u.a)({},e),{},{title:n}))},t.changeFilter=function(e){t.setState({filterValue:e})},t.render=function(){var e=t.props.tasks,n=(void 0===e?[]:e).filter(function(e){switch(t.state.filterValue){case"Active":return 0===e.status;case"Completed":return 2===e.status;case"All":return!0}});return o.a.createElement("div",{className:"todoList"},o.a.createElement(p,{title:t.props.title,changeTitleTodo:t.changeTitleTodo,onDeleteTodoList:t.props.onDeleteTodoList,todoListId:t.props.id}),o.a.createElement(m,{buttonStyle:"taskButton",buttonTitle:"+ task",style:"add-task",addItem:t.addTask,holder:"new task me"}),o.a.createElement(T,{task:n,onDeleteTask:t.onDeleteTask,changeTitle:t.changeTitle,changeStatus:t.changeStatus}),o.a.createElement(k,{filterValue:t.state.filterValue,changeFilter:t.changeFilter}))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),P=Object(h.b)(null,{changeTask:function(t,e,n){return function(a){L(t,e,n).then(function(n){0===n.data.resultCode&&a(function(t,e,n){return{type:"TodoAPP/CHANGE-TASK",todoId:t,taskId:e,task:n}}(t,e,n.data.data.item))})}},changeTitleTodo:function(t,e){return function(n){E(t,e).then(function(a){0===a.data.resultCode&&n(function(t,e){return{type:"TodoList/Reducer/CHANGE_TITLE_TODOLIST",todoId:t,title:e}}(t,e))})}},createTask:function(t,e){return function(n){S(t,e).then(function(e){var a,o;0===e.data.resultCode&&n((a=t,o=e.data.data.item,{type:"TodoAPP/ADD_TASK",todolistId:a,newTask:o}))})}},deleteTask:function(t,e){return function(n){y(t,e).then(function(a){0===a.data.resultCode&&n(function(t,e){return{type:"TodoAPP/DELETE_TASK",todoListId:t,taskId:e}}(t,e))})}},getTasks:function(t){return function(e){j(t).then(function(n){var a,o;n.data.error||e((a=t,o=n.data.items,{type:"TodoAPP/SET_TASKS",todolistId:a,tasks:o}))})}}})(D),w=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).restoreState=function(){t.props.getTodolists()},t.addTodoList=function(e){t.props.createTodolists(e)},t.onDeleteTodoList=function(e){t.props.deleteTodolist(e)},t.render=function(){var e=t.props.todolists.map(function(e){return o.a.createElement(P,{key:e.id,id:e.id,title:e.title,onDeleteTodoList:t.onDeleteTodoList,tasks:e.tasks})});return o.a.createElement("div",{className:"backgroung"},o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"main-header"},o.a.createElement("span",{className:"title"},"Which task"),o.a.createElement(m,{inputStyleErr:"input-error",inputStyleDef:"input",buttonStyle:"header-button",buttonTitle:"Order",style:"add-title",addItem:t.addTodoList})),o.a.createElement("div",{className:"Appp"},e)))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),N=Object(h.b)(function(t){return{todolists:t.reducer.todolists}},{deleteTodolist:function(t){return function(e){C(t).then(function(n){0===n.data.resultCode&&e({type:"TodoAPP/DELETE_TODO_LIST",newTodoList:t})})}},createTodolists:function(t){return function(e){A(t).then(function(t){0===t.data.resultCode&&e({type:"TodoAPP/CREATE_TODOLIST",newTodoList:t.data.data.item})})}},getTodolists:function(){return function(t){g().then(function(e){t({type:"TodoAPP/SET_TODOLIST",todolists:e.data})})}}})(w);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(7),F=n(27),M=Object(_.c)({reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoAPP/CREATE_TODOLIST":return Object(u.a)(Object(u.a)({},t),{},{todolists:[].concat(Object(b.a)(t.todolists),[Object(u.a)({},e.newTodoList)])});case"TodoAPP/DELETE_TODO_LIST":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.filter(function(t){return t.id!==e.newTodoList})});case"TodoAPP/SET_TODOLIST":return Object(u.a)(Object(u.a)({},t),{},{todolists:e.todolists.map(function(t){return Object(u.a)(Object(u.a)({},t),{},{tasks:[]})})});case"TodoAPP/SET_TASKS":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!==e.todolistId?t:Object(u.a)(Object(u.a)({},t),{},{tasks:e.tasks})})});case"TodoAPP/ADD_TASK":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!==e.todolistId?t:Object(u.a)(Object(u.a)({},t),{},{tasks:[].concat(Object(b.a)(t.tasks),[e.newTask])})})});case"TodoAPP/DELETE_TASK":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!==e.todoListId?t:Object(u.a)(Object(u.a)({},t),{},{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})})})});case"TodoList/Reducer/CHANGE_TITLE_TODOLIST":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id!==e.todoId?t:Object(u.a)(Object(u.a)({},t),{},{title:e.title})})});case"TodoAPP/CHANGE-TASK":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map(function(t){return t.id===e.todoId?Object(u.a)(Object(u.a)({},t),{},{tasks:t.tasks.map(function(t){return t.id!==e.taskId?t:e.task})}):t})});default:return t}}}),V=Object(_.d)(M,Object(_.a)(F.a));r.a.render(o.a.createElement(h.a,{store:V},o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.f42dbf42.chunk.js.map